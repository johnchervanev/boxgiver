<div id='blog-posts' class='section'>
  <div class="container">
    <div class="blog-posts-section-header d-flex justify-content-between">
      <h2 class='section-header dynamic-item-header'>Latest blog posts and news</h2>
      <a class="view-all-button-top" href="/blog">View All</a>
    </div>

    <div>
      <div class='blog-items'>
        <% @blogs.each do |blog| %>
          <div class='blog-post-item'>
            <a href="/blog/<%= blog.slug %>">
              <div class='header-image' style="background-image: url('<%= image_path(blog.image) %>')"></div>
            </a>
            <div class='details'>
              <a href="/blog/<%= blog.slug %>">
                <h2><%= blog.title.truncate(48) %></h2>
              </a>
              <p><%= blog.content.truncate(98).html_safe %></p>
              <a href='/blog/<%= blog.slug %>' class='read-more'> Read more... </a>
            </div>
            <div class='author'>
              <div class='author-avatar'>
                <%= image_tag(blog.avatar_thumb) %>
              </div>
              <div class='author-bio'>
                <div class='name'>
                  <%= blog.author.username %>
                </div>
                <div class='ext-info clearfix'>
                  <span class='float-left'> <%= blog.minutes%> min read </span>
                  <span class='float-right'> <%= blog.created_at.strftime("%B #{blog.created_at.day.ordinalize}, %Y") %> </span>
                </div>
              </div>
            </div>
          </div>
        <% end %>
      </div>
      <a class="view-all-button-bottom d-none" href="/blog">View All</a>
    </div>
  </div>
</div>

<script type="text/javascript">
    $(document).ready(function () {
        $('.blog-items').slick({
            slidesToShow: 3,
            slidesToScroll: 1,
            dots: false,
            focusOnSelect: true,
            prevArrow:"<button type='button' class='slick-prev pull-left'><i class='fa fa-angle-left' aria-hidden='true'></i></button>",
            nextArrow:"<button type='button' class='slick-next pull-right'><i class='fa fa-angle-right' aria-hidden='true'></i></button>",
            responsive: [
                {
                    breakpoint: 991,
                    settings: {
                        slidesToShow: 2
                    }
                },
                {
                    breakpoint: 768,
                    settings: {
                        slidesToShow: 2
                    }
                },
                {
                    breakpoint: 600,
                    settings: {
                        slidesToShow: 1
                    }
                }
            ]
        });
    });
</script>
